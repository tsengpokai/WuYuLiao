:root {
    --bg-dark: #050505;
    --neon-blue: #00f3ff;
    --neon-green: #0aff0a;
    --neon-red: #ff2a2a;
    --neon-yellow: #fce83a;
}

body {
    background-color: var(--bg-dark);
    color: #e0e0e0;
    font-family: 'Share Tech Mono', monospace;
    margin: 0;
    height: 100vh;
    overflow: hidden;
}

/* 掃描線 */
.scanline {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.3) 50%);
    background-size: 100% 4px;
    pointer-events: none; z-index: 999;
}

.container { display: grid; grid-template-columns: 300px 1fr; height: 100%; }

/* Sidebar */
.sidebar { background: #000; border-right: 1px solid #333; padding: 20px; display: flex; flex-direction: column; z-index: 10; }
.brand { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
.brand-logo { width: 40px; }
.logo-text { font-size: 1.8em; margin: 0; color: #fff; text-shadow: 0 0 10px var(--neon-blue); }
.logo-text span { color: var(--neon-blue); }
.version { font-size: 0.6em; color: var(--neon-red); letter-spacing: 2px; }

.cyber-btn {
    background: rgba(255, 42, 42, 0.1);
    border: 1px solid var(--neon-red);
    color: var(--neon-red);
    padding: 15px; width: 100%; font-size: 1.1em;
    cursor: pointer; transition: 0.3s;
    font-family: inherit; font-weight: bold;
}
.cyber-btn:hover { background: var(--neon-red); color: #000; box-shadow: 0 0 20px var(--neon-red); }
.cyber-btn:disabled { opacity: 0.5; cursor: not-allowed; }

.event-feed { border: 1px solid #333; background: #0a0a0a; padding: 10px; margin-top: 20px; font-size: 0.8em; }
.feed-header { color: var(--neon-blue); border-bottom: 1px solid #333; margin-bottom: 5px; }
.feed-row { display: flex; justify-content: space-between; margin-bottom: 3px; }

.console-box { margin-top: auto; height: 150px; background: #000; border-top: 1px solid #333; overflow-y: auto; padding: 10px; color: #666; font-size: 0.7em; }

/* Main Dashboard */
.dashboard { display: grid; grid-template-rows: 40% 60%; height: 100%; }

/* Waveforms */
.waveforms-container { background: #0b0c10; padding: 10px; display: flex; flex-direction: column; border-bottom: 1px solid var(--neon-blue); }
.panel-header { font-size: 0.8em; color: var(--neon-blue); margin-bottom: 5px; }

.wave-row { flex: 1; display: flex; align-items: center; border-bottom: 1px solid #222; position: relative; }
.station-badge {
    width: 60px; font-size: 0.9em; text-align: center; color: #555; border: 1px solid #333; padding: 5px; margin-right: 10px; transition: 0.3s;
}
/* 當測站被觸發時的樣式 */
.station-active {
    background: var(--neon-green); color: #000; border-color: var(--neon-green); box-shadow: 0 0 10px var(--neon-green); font-weight: bold;
}

canvas { width: 100%; height: 100%; }

/* Map Section */
.map-section { position: relative; border-top: 2px solid var(--neon-blue); }
#map { width: 100%; height: 100%; background: #000; }

.map-hud {
    position: absolute; bottom: 20px; right: 20px; z-index: 500;
    background: rgba(0, 0, 0, 0.8); border: 1px solid var(--neon-red);
    padding: 15px; width: 200px;
    box-shadow: 0 0 20px rgba(255, 42, 42, 0.2);
    display: none; /* 初始隱藏 */
}
.map-hud h3 { margin: 0 0 10px 0; color: var(--neon-red); font-size: 1em; border-bottom: 1px solid #555; }
.hud-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.8em; color: #fff; }
.hud-mag { font-size: 1.5em; color: var(--neon-yellow); }

/* Leaflet Custom Animations */

/* 震央閃爍 */
.epicenter-pulse {
    animation: epi-pulse 1s infinite;
}
@keyframes epi-pulse {
    0% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
    100% { opacity: 1; transform: scale(1); }
}

/* 測站標記 */
.station-icon-normal { filter: grayscale(100%) opacity(0.5); transition: 0.3s; }
.station-icon-triggered { filter: grayscale(0%) opacity(1) drop-shadow(0 0 5px #0aff0a); transform: scale(1.3); }

/* P波圓圈樣式 (SVG class) */
.p-wave-circle {
    stroke: var(--neon-blue);
    stroke-width: 2;
    fill: rgba(0, 243, 255, 0.1);
    stroke-dasharray: 5, 5;
}
/* S波圓圈樣式 */
.s-wave-circle {
    stroke: var(--neon-red);
    stroke-width: 3;
    fill: rgba(255, 42, 42, 0.1);
}