<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SEISYNC | AI 地震監測教學平台</title>

  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div class="scanline"></div>
  <div class="bg-grid"></div>
  <div class="noise"></div>

  <nav class="topnav">
    <div class="brand">
      <div class="logo-box">S</div>
      <div class="logo-text">SEI<span>SYNC</span>_EDU</div>
    </div>
    <ul>
      <li><a href="#sec-hero">HOME</a></li>
      <li><a href="#sec-part01">PART 01</a></li>
      <li><a href="#sec-modules">MODULES</a></li>
      <li><a href="#sec-console">MONITOR</a></li>
    </ul>
  </nav>

  <main class="container">

    <!-- HERO -->
    <section id="sec-hero" class="panel panel--hero">
      <div class="hero-grid">
        <div>
          <div class="pill">AI Seismic Monitoring • Demo + Teaching</div>
          <h1 class="hero-title">把「地震波形 → 震央」做成可互動的監測台</h1>
          <p class="hero-sub">
            這個網站用兩段互動帶你入門：<span class="accent">PART 01</span> 先用假數據理解模型如何判斷「地震/雜訊」；
            接著進入 <span class="accent">MONITOR</span> 用三測站波形展示 Moveout、相位拾取、相位關聯與定位。
          </p>

          <div class="hero-actions">
            <a class="btn-primary" href="#sec-console">Start Live Demo</a>
            <a class="btn-ghost" href="#sec-part01">Learn Part 01</a>
          </div>

          <div class="hero-kpis">
            <div class="kpi-card">
              <div class="kpi-top">Pipeline</div>
              <div class="kpi-big">Picking → Assoc → Loc → Mag</div>
              <div class="kpi-bot">modular seismic AI</div>
            </div>
            <div class="kpi-card">
              <div class="kpi-top">Input</div>
              <div class="kpi-big">3 Stations / 3 Traces</div>
              <div class="kpi-bot">moveout visible</div>
            </div>
            <div class="kpi-card">
              <div class="kpi-top">Output</div>
              <div class="kpi-big">Epicenter + Links</div>
              <div class="kpi-bot">map + console</div>
            </div>
          </div>
        </div>

        <div class="hero-right">
          <div class="mini-console">
            <div class="mini-head">
              <span class="dot d1"></span><span class="dot d2"></span><span class="dot d3"></span>
              <span class="mini-title">SYSTEM PREVIEW</span>
            </div>

            <div class="mini-body">
              <div class="mini-row">
                <div class="mini-label">Core idea</div>
                <div class="mini-val accent">Time-series → picks → event</div>
              </div>
              <div class="mini-row">
                <div class="mini-label">Phase</div>
                <div class="mini-val">P/S probability → picks</div>
              </div>
              <div class="mini-row">
                <div class="mini-label">Moveout</div>
                <div class="mini-val">distance controls arrival</div>
              </div>
              <div class="mini-row">
                <div class="mini-label">Location</div>
                <div class="mini-val">grid-search (teaching)</div>
              </div>

              <div class="stepper">
                <button class="step" data-jump="#sec-part01"><span>01</span> Data + 1D CNN</button>
                <button class="step" data-jump="#sec-console"><span>02</span> Moveout</button>
                <button class="step" data-jump="#sec-console"><span>03</span> Picking + Assoc</button>
                <button class="step" data-jump="#sec-console"><span>04</span> Location + Mag</button>
              </div>
            </div>
          </div>

          <div class="hero-art">
            <div class="art-ring r1"></div>
            <div class="art-ring r2"></div>
            <div class="art-ring r3"></div>
            <div class="art-label">wavefront</div>
          </div>
        </div>
      </div>
    </section>

    <!-- PART 01 -->
    <section id="sec-part01" class="panel">
      <div class="panel-header">
        <span class="step-tag">PART 01</span>
        <h2>數據模擬與 1D CNN 架構（含互動式 Python Code Simulation）</h2>
      </div>

      <div class="grid-2">
        <!-- LEFT: text (more beginner-friendly) -->
        <div>
          <div class="hblock">
            <h3>1) 數據模擬（generate_synthetic_data）</h3>
            <p class="para">
              在真實地震專案中，資料常見問題是：<span class="accent">難取得</span>（授權、分散在不同資料庫）、
              <span class="accent">格式複雜</span>（SAC/MSEED、台站資訊、採樣率不一）、且前處理（去趨勢、濾波、切窗）需要經驗。
              因此入門教學會先用「假數據」讓你理解模型輸入輸出與訓練邏輯。
            </p>

            <ul class="bullets">
              <li><b class="g">背景雜訊：</b>使用高斯白雜訊（Gaussian noise）模擬儀器/環境噪音。</li>
              <li><b class="g">事件訊號：</b>在某個時間點加入類 Ricker wavelet 的突發能量，模擬 P/S 波到來時「能量突然增強」。</li>
              <li><b class="g">Normalization：</b>把振幅壓到 -1 ~ 1，避免極端值主導訓練，讓神經網路更快收斂、梯度更穩定。</li>
            </ul>
          </div>

          <div class="hblock">
            <h3>2) 模型架構（build_simple_seismic_model：1D CNN）</h3>
            <p class="para">
              地震波形本質是時間序列。1D CNN 的卷積核會沿時間軸滑動，學到「局部特徵」：例如振幅跳變、短時間的頻率型態、包絡能量。
              這是一個常見且有效的入門選擇。
            </p>

            <div class="diagram">
              <div class="node">Conv1D</div>
              <div class="arrow">→</div>
              <div class="node">MaxPooling1D</div>
              <div class="arrow">→</div>
              <div class="node">GlobalAvgPool</div>
              <div class="arrow">→</div>
              <div class="node">Dense(sigmoid)</div>
            </div>

            <ul class="bullets">
              <li><b>Conv1D：</b>負責「看」波形，抽取局部形狀/頻率特徵。</li>
              <li><b>MaxPooling1D：</b>降維與抗噪，保留關鍵反應，降低計算量。</li>
              <li><b>GlobalAveragePooling：</b>把整段特徵壓縮成固定長度向量，減少過擬合風險。</li>
              <li><b>Dense(sigmoid)：</b>輸出 0~1 的機率，代表「這段包含事件」的可能性。</li>
            </ul>
          </div>

          <div class="accordion">
            <details open>
              <summary>3) 視覺化（plot_results）在看什麼？</summary>
              <p>
                我們把波形、真實標籤（noise/earthquake）、以及模型輸出的機率一起呈現。
                教學重點不是「一次就 100% 正確」，而是讓你看到模型學會把「純雜訊」與「有突發能量的事件」分開。
                在右側互動面板中，若模型判斷與真實一致，顯示綠色；不一致則顯示紅色。
              </p>
            </details>
            <details>
              <summary>進階：從分類到分割（Segmentation）</summary>
              <p>
                入門分類只回答「整段有沒有地震」。進階模型（如 U-Net、PhaseNet、EQTransformer）會對每個時間點輸出 P/S/Noise 機率，
                精準標記到時。你的 MONITOR 區塊展示的就是「以 picks 串起後續流程」的概念。
              </p>
            </details>
          </div>
        </div>

        <!-- RIGHT: interactive simulation like your screenshot -->
        <div class="interactive-box">
          <div class="box-header">PYTHON CODE SIMULATION</div>

          <div class="canvas-container tall">
            <canvas id="chart-sim"></canvas>
          </div>

          <div class="control-row">
            <button id="btn-sim" class="cyber-btn">生成測試樣本（RUN CODE）</button>
            <div id="sim-pred" class="result-display mono">AI PRED: WAITING…</div>
          </div>

          <div class="sim-note">
            <div class="mono subtle">What you should observe</div>
            <ul class="bullets small">
              <li><b class="g">Noise：</b>波形較雜亂，通常機率較低。</li>
              <li><b class="g">Earthquake：</b>中間會出現突起/振動包絡，機率較高。</li>
              <li><b class="g">每次不同：</b>因為隨機生成，但模型應能學會區分兩者。</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- MODULES -->
    <section id="sec-modules" class="panel">
      <div class="panel-header">
        <span class="step-tag">MODULES</span>
        <h2>四大核心模組（RED-PAN / GaMMA / NonLinLoc / Magnitude）</h2>
      </div>

      <div class="modules-grid">
        <div class="module-card">
          <div class="mod-icon">01</div>
          <h3>相位拾取</h3>
          <div class="sub-text">Phase Picking</div>
          <div class="tag">RED-PAN</div>
          <p>
            以深度學習輸出 P/S 機率函數，跨過門檻後形成 picks（到時）。
            在 MONITOR 中你會看到每站依 Moveout 先後到達，完成 picks 後整排變綠。
          </p>
        </div>

        <div class="module-card">
          <div class="mod-icon">02</div>
          <h3>相位關聯</h3>
          <div class="sub-text">Phase Association</div>
          <div class="tag">GaMMA</div>
          <p>
            把多測站 picks 關聯成同一個事件。
            在 MONITOR 中，picks 全部成功後才會顯示「星號 + 連線」，代表事件被關聯並定位。
          </p>
        </div>

        <div class="module-card">
          <div class="mod-icon">03</div>
          <h3>震源定位</h3>
          <div class="sub-text">Location</div>
          <div class="tag">NonLinLoc</div>
          <p>
            以多站到時估計震央（經緯度）與不確定性。
            本教學以 grid-search 示範定位概念（正式系統可使用更完整的速度模型與方法）。
          </p>
        </div>

        <div class="module-card">
          <div class="mod-icon">04</div>
          <h3>規模估計</h3>
          <div class="sub-text">Magnitude</div>
          <div class="tag">Regression</div>
          <p>
            用最大振幅與距離衰減估計 M<sub>L</sub>（教學用簡化回歸式）。
            MONITOR 右下資訊面板會顯示規模估計結果。
          </p>
        </div>
      </div>
    </section>

    <!-- LIVE CONSOLE -->
    <section id="sec-console" class="panel panel--console">
      <div class="panel-header">
        <span class="step-tag">LIVE</span>
        <h2>互動式監測台：Moveout → Picking → Association → Location → Magnitude</h2>
      </div>

      <div class="console-top">
        <button id="btn-trigger" class="cyber-btn danger">TRIGGER EQ</button>

        <div class="status-strip">
          <div class="status-item"><span class="mono subtle">SYSTEM</span> <strong id="sys-status" class="ok mono">ONLINE</strong></div>
          <div class="status-item"><span class="mono subtle">P-THR</span> <strong id="thrP" class="mono">0.60</strong></div>
          <div class="status-item"><span class="mono subtle">S-THR</span> <strong id="thrS" class="mono">0.55</strong></div>
          <div class="status-item"><span class="mono subtle">MOVEOUT</span> <strong id="mv-status" class="mono">READY</strong></div>
        </div>
      </div>

      <div class="threshold-row">
        <div class="ctrl">
          <label>P threshold</label>
          <input id="pThresh" type="range" min="0.30" max="0.90" step="0.01" value="0.60">
        </div>
        <div class="ctrl">
          <label>S threshold</label>
          <input id="sThresh" type="range" min="0.30" max="0.90" step="0.01" value="0.55">
        </div>
      </div>

      <div class="sim-grid">
        <div class="waves-col">
          <div class="wave-unit">
            <div class="st-badge" id="badge-0">TW.HUAL</div>
            <div class="wave-meta mono subtle">
              <span id="dist-0">R=-- km</span>
              <span id="pick-0">P=-- | S=--</span>
            </div>
            <canvas id="chart-0"></canvas>
          </div>

          <div class="wave-unit">
            <div class="st-badge" id="badge-1">TW.NACB</div>
            <div class="wave-meta mono subtle">
              <span id="dist-1">R=-- km</span>
              <span id="pick-1">P=-- | S=--</span>
            </div>
            <canvas id="chart-1"></canvas>
          </div>

          <div class="wave-unit">
            <div class="st-badge" id="badge-2">TW.SSLB</div>
            <div class="wave-meta mono subtle">
              <span id="dist-2">R=-- km</span>
              <span id="pick-2">P=-- | S=--</span>
            </div>
            <canvas id="chart-2"></canvas>
          </div>

          <div class="assoc-panel">
            <div class="box-header">EVENT LOG</div>
            <div id="eventLog" class="event-log mono"></div>
          </div>
        </div>

        <div class="map-col">
          <div id="map"></div>

          <div id="loc-result" class="map-overlay-info">
            <h3>EVENT SOLUTION</h3>
            <div>LOC: <span id="res-loc">--</span></div>
            <div>DEP: <span id="res-dep">--</span></div>
            <div>MAG: <span id="res-mag">--</span></div>
            <div class="small subtle">Star + links appear after successful picking + association + location.</div>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer mono subtle">
      SEISYNC_EDU • GitHub Pages Ready • UI/Simulation for Teaching
    </footer>

  </main>

  <script src="script.js"></script>
</body>
</html>
